# Armtek API: Сервис Поиска (`/ws_search`) - Формализованная информация

**Общие параметры:**

*   **Базовый URL:** `http://ws.armtek.ru` (или другой региональный)
*   **Аутентификация:** Basic Authentication (логин/пароль)
*   **Формат ответа:** Управляется query-параметром `format` (`json` или `xml`, по умолчанию `json`).
*   **Базовая структура ответа:**
    *   `STATUS` (integer): HTTP статус код.
    *   `MESSAGES` (array): Массив сообщений (`TYPE`, `TEXT`, `DATE`).
    *   `RESP` (object/array/null): Тело ответа, специфичное для метода.

---

## 1. Метод `assortment_search`

*   **Назначение:** Поиск по ассортименту (вероятно, для проверки наличия в каталоге без цен и остатков).
*   **HTTP Метод:** `POST`
*   **Путь:** `/ws_search/assortment_search`
*   **Параметры запроса (Body - JSON или form-urlencoded):**
    *   `VKORG` (string, max 4, **обязательный**): Сбытовая организация. (Настройка в "Сервис получения сбытовых организаций клиента").
    *   `KUNNR_RG` (string, max 10, **обязательный**): Номер покупателя (KUNNR\_RG).
    *   `KUNNR_ZA` (string, max 10, *необязательный*): Адрес доставки или Пункт выдачи для самовывоза. (Значения из "Сервис получения структуры клиента").
    *   `PIN` (string, max <40, **обязательный**): Номер артикула (строка поиска).
    *   `BRAND` (string, max 40, *необязательный*): Наименование бренда. (Рекомендуется заполнять).
    *   `NAME` (string, max 100, *необязательный*): Наименование.
    *   `PROGRAM` (string, max 2, *необязательный*): Легковая (`LP`), Грузовая (`GP`) программа или пусто.
    *   `QUERY_TYPE` (string, max 1, *необязательный*): Тип поиска (`1`, `2` или пусто). (Если `BRAND` пуст, рекомендуется `1`).
*   **Структура успешного ответа (`RESP`, array - предположительно):**
    *   Массив объектов, представляющих найденные в ассортименте позиции. Точная структура полей не указана в предоставленном контексте, но вероятно включает `PIN`, `BRAND`, `NAME`.

---

## 2. Метод `search`

*   **Назначение:** Поиск предложений (цены, остатки, сроки) по артикулу.
*   **HTTP Метод:** `POST`
*   **Путь:** `/ws_search/search`
*   **Параметры запроса (Body - JSON или form-urlencoded):**
    *   `VKORG` (string, max 4, **обязательный**): Сбытовая организация.
    *   `KUNNR_RG` (string, max 10, **обязательный**): Номер покупателя (KUNNR\_RG).
    *   `PIN` (string, max <40, **обязательный**): Номер артикула (строка поиска).
    *   `BRAND` (string, max 40, *необязательный*): Наименование бренда. (Рекомендуется заполнять. Влияет на поиск аналогов при `QUERY_TYPE=2`).
    *   `QUERY_TYPE` (string, max 1, *необязательный*): Тип поиска (`1`, `2` или пусто). (Вероятно, `1` - только запрошенный артикул, `2` - артикул и аналоги).
    *   *Примечание: Могут существовать другие параметры, не указанные в предоставленном контексте.*
*   **Структура успешного ответа (`RESP`, array - предположительно):**
    *   Массив объектов, представляющих найденные предложения по запчастям. Каждый объект может содержать поля (на основе контекста):
        *   `PIN` (string): Артикул.
        *   `BRAND` (string): Бренд.
        *   `NAME` (string): Наименование.
        *   `PRICE` (number/string): Цена.
        *   `RVALUE` (string, max 20): Доступное количество.
        *   `DELIVERY_DAY` (number/string): Срок поставки в днях.
        *   `KEYZAK` (string, max 10): Код склада Armtek (используется для заказа).
        *   `PARNR` (string, max 20): Код склада партнера.
        *   `RETDAYS` (number, max 4): Количество дней на возврат.
        *   `RDPRF` (string, max 10): Кратность (минимальное количество для заказа).
        *   *...и другие поля, такие как вес, объем, страна происхождения, информация о производителе и т.д.*

---