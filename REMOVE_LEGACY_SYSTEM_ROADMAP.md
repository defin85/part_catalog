# üöÄ ROADMAP: –£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π —Å–∏—Å—Ç–µ–º—ã API

## üìã –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

### –î–≤–æ–π—Å—Ç–≤–µ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:
1. **–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞** - –ø—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã API –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–ª–æ—ë–≤
2. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞** - —Å Circuit Breaker, –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º

### –ú–µ—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π —Å–∏—Å—Ç–µ–º—ã:

#### 1. **–ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã:**
- `parts_search_providers.dart` - `partsSearchProvider` (–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫)
- `optimized_api_providers.dart` - `_searchWithLegacySystem()` (fallback –º–µ—Ç–æ–¥)

#### 2. **UI –≠–∫—Ä–∞–Ω—ã:**
- `enhanced_parts_search_screen.dart`:
  - –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å `_useOptimizedSystem`
  - –ú–µ—Ç–æ–¥ `_buildLegacyResults()`
  - –£—Å–ª–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤ `_performSearch()`

- `enhanced_supplier_config_screen.dart`:
  - –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å `_useOptimizedSystem` –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
  - –£—Å–ª–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤ `_testConnection()`
  - –†–∞–∑–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã –∫–Ω–æ–ø–æ–∫ ("–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ" vs "Health Check")

#### 3. **–°–µ—Ä–≤–∏—Å—ã:**
- `parts_price_service.dart` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞
- `supplier_service.dart` - —Å–æ–¥–µ—Ä–∂–∏—Ç –º–µ—Ç–æ–¥—ã `testConnection()` –±–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

#### 4. **API –ö–ª–∏–µ–Ω—Ç—ã:**
- `armtek_api_client.dart` - –±–∞–∑–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç –±–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π
- `api_client_manager.dart` - —É–ø—Ä–∞–≤–ª—è–µ—Ç –æ–±—ã—á–Ω—ã–º–∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏

#### 5. **–ì–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**
- `global_api_settings_service.dart` - —Ñ–ª–∞–≥ `use_optimized_system`
- `SupplierBusinessConfig` - –ø–æ–ª–µ `useOptimizedSystem`

## üéØ –¶–µ–ª—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

–û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É, —É–¥–∞–ª–∏–≤:
- –î—É–±–ª–∏—Ä—É—é—â–∏–π –∫–æ–¥
- –£—Å–ª–æ–≤–Ω—É—é –ª–æ–≥–∏–∫—É –≤—ã–±–æ—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ –≤ UI
- Legacy –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –∏ –º–µ—Ç–æ–¥—ã

## üìù –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

### –§–∞–∑–∞ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è)
1. **–°–æ–∑–¥–∞—Ç—å backup –≤–µ—Ç–∫—É**
2. **–î–æ–±–∞–≤–∏—Ç—å feature flags –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞**
3. **–ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –ø—É—Ç–µ–π**

### –§–∞–∑–∞ 2: –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è API –∫–ª–∏–µ–Ω—Ç–æ–≤
1. **–ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∏–∑ `ArmtekApiClient` –≤ `OptimizedArmtekApiClient`**
   - [ ] –î–æ–±–∞–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –º–µ—Ç–æ–¥—ã
   - [ ] –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤

2. **–û–±–Ω–æ–≤–∏—Ç—å `ApiClientManager`**
   - [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã
   - [ ] –£–¥–∞–ª–∏—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –æ–±—ã—á–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤

### –§–∞–∑–∞ 3: –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤
1. **–û–±–Ω–æ–≤–∏—Ç—å `PartsPriceService`**
   - [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã
   - [ ] –£–¥–∞–ª–∏—Ç—å –ø—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã API

2. **–û–±–Ω–æ–≤–∏—Ç—å `SupplierService`**
   - [ ] –ú–µ—Ç–æ–¥ `testConnection()` –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç health check
   - [ ] –£–¥–∞–ª–∏—Ç—å —É—Å–ª–æ–≤–Ω—É—é –ª–æ–≥–∏–∫—É

### –§–∞–∑–∞ 4: –£–ø—Ä–æ—â–µ–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
1. **–£–¥–∞–ª–∏—Ç—å legacy –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã**
   - [ ] –£–¥–∞–ª–∏—Ç—å `partsSearchProvider` –∏–∑ `parts_search_providers.dart`
   - [ ] –£–¥–∞–ª–∏—Ç—å `_searchWithLegacySystem()` –∏–∑ `optimized_api_providers.dart`

2. **–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã**
   - [ ] `optimizedPartsSearchProvider` ‚Üí `partsSearchProvider`
   - [ ] `OptimizedPartsSearchParams` ‚Üí `PartsSearchParams`

### –§–∞–∑–∞ 5: –û—á–∏—Å—Ç–∫–∞ UI
1. **`enhanced_parts_search_screen.dart`**
   - [ ] –£–¥–∞–ª–∏—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Å–∏—Å—Ç–µ–º
   - [ ] –£–¥–∞–ª–∏—Ç—å `_buildLegacyResults()`
   - [ ] –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–∏—Å–∫
   - [ ] –û—Å—Ç–∞–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–µ—à–∞ –∫–∞–∫ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ

2. **`enhanced_supplier_config_screen.dart`**
   - [ ] –£–¥–∞–ª–∏—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å `useOptimizedSystem`
   - [ ] –£–¥–∞–ª–∏—Ç—å —É—Å–ª–æ–≤–Ω—É—é –ª–æ–≥–∏–∫—É –≤ `_testConnection()`
   - [ ] –í—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å "Health Check"
   - [ ] –í—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤–∫–ª–∞–¥–∫–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### –§–∞–∑–∞ 6: –û—á–∏—Å—Ç–∫–∞ –º–æ–¥–µ–ª–µ–π –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫
1. **–£–¥–∞–ª–∏—Ç—å –ø–æ–ª—è –∏–∑ –º–æ–¥–µ–ª–µ–π**
   - [ ] `useOptimizedSystem` –∏–∑ `SupplierBusinessConfig`
   - [ ] –†–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å freezed –º–æ–¥–µ–ª–∏

2. **–û—á–∏—Å—Ç–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**
   - [ ] –£–¥–∞–ª–∏—Ç—å `_useOptimizedSystemKey` –∏–∑ `GlobalApiSettingsService`
   - [ ] –£–¥–∞–ª–∏—Ç—å –º–µ—Ç–æ–¥—ã `getUseOptimizedSystem()` –∏ `setUseOptimizedSystem()`

### –§–∞–∑–∞ 7: –§–∏–Ω–∞–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞
1. **–£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ–∞–π–ª—ã**
   - [ ] `parts_search_screen.dart` (—Å—Ç–∞—Ä—ã–π —ç–∫—Ä–∞–Ω –ø–æ–∏—Å–∫–∞)
   - [ ] `supplier_config_service.dart` (–µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
   - [ ] –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —É—Ç–∏–ª–∏—Ç—ã

2. **–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –¥–ª—è —è—Å–Ω–æ—Å—Ç–∏**
   - [ ] `OptimizedArmtekApiClient` ‚Üí `ArmtekApiClient`
   - [ ] `enhanced_parts_search_screen.dart` ‚Üí `parts_search_screen.dart`
   - [ ] `enhanced_supplier_config_screen.dart` ‚Üí `supplier_config_screen.dart`

3. **–û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é**
   - [ ] –£–¥–∞–ª–∏—Ç—å —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –¥–≤—É—Ö —Å–∏—Å—Ç–µ–º–∞—Ö
   - [ ] –û–±–Ω–æ–≤–∏—Ç—å CLAUDE.md

## ‚ö†Ô∏è –†–∏—Å–∫–∏ –∏ –º–µ—Ä—ã –ø—Ä–µ–¥–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç–∏

### –†–∏—Å–∫–∏:
1. **–ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é** –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
2. **–°–ª–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ª–∞–¥–∫–∏** —Å Circuit Breaker
3. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

### –ú–µ—Ä—ã:
1. **–î–æ–±–∞–≤–∏—Ç—å "development mode" –≤ Circuit Breaker**
   - –ë–µ–∑ –∑–∞–¥–µ—Ä–∂–µ–∫ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ—Ç–∫–ª—é—á–µ–Ω–∏–π
   - –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

2. **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –∫–µ—à–∞**
   - –ß–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä –≤ UI
   - –ß–µ—Ä–µ–∑ environment –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é

3. **–ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `useOptimizedSystem = true` –¥–ª—è –≤—Å–µ—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
   - –ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ –ø–æ–ª–µ

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –£–¥–∞–ª–∏—Ç—Å—è:
- ~500 —Å—Ç—Ä–æ–∫ –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ –∫–æ–¥–∞
- 2 –Ω–∞–±–æ—Ä–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
- –£—Å–ª–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤ 5+ –º–µ—Å—Ç–∞—Ö
- 2 API –∫–ª–∏–µ–Ω—Ç–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞

### –û—Å—Ç–∞–Ω–µ—Ç—Å—è:
- –ï–¥–∏–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–∫–µ—à, circuit breaker)
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–ª—è –≤—Å–µ—Ö
- –ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–µ–∑ —É—Å–ª–æ–≤–Ω–æ—Å—Ç–µ–π

## üîÑ –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

1. **–ù–∞—á–∞—Ç—å —Å –§–∞–∑—ã 2** - —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è API –∫–ª–∏–µ–Ω—Ç–æ–≤ (–Ω–∏–∑–∫–∏–π —Ä–∏—Å–∫)
2. **–ó–∞—Ç–µ–º –§–∞–∑–∞ 4** - —É–ø—Ä–æ—â–µ–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
3. **–§–∞–∑–∞ 5** - –æ—á–∏—Å—Ç–∫–∞ UI (–≤–∏–¥–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è)
4. **–§–∞–∑—ã 6-7** - —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] –ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–µ–π
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] Circuit Breaker –Ω–µ –º–µ—à–∞–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
- [ ] –ö–æ–¥ —Å—Ç–∞–ª –ø—Ä–æ—â–µ –∏ –ø–æ–Ω—è—Ç–Ω–µ–µ

## üö¶ –¢–æ—á–∫–∏ –∫–æ–Ω—Ç—Ä–æ–ª—è

–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π —Ñ–∞–∑—ã:
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å `flutter analyze`
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –≤—Ä—É—á–Ω—É—é
4. –°–¥–µ–ª–∞—Ç—å –∫–æ–º–º–∏—Ç —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

**Estimated time**: 4-6 —á–∞—Å–æ–≤
**Complexity**: Medium
**Risk**: Low-Medium (—Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –ø–æ–¥—Ö–æ–¥–æ–º)