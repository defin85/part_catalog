# üöÄ ROADMAP: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π —Å–∏—Å—Ç–µ–º—ã API

## üìã –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞ (18.09.2025)

### ‚úÖ **–£–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ (~30%):**
- **ApiClientManager** - —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–æ–≤–∞–Ω –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
- **enhanced_parts_search_screen.dart** - –æ—á–∏—â–µ–Ω –æ—Ç legacy –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–µ–π
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞** –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞

### ‚ùå **–û—Å—Ç–∞–µ—Ç—Å—è —Å–¥–µ–ª–∞—Ç—å (~70%):**

#### **UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- `enhanced_supplier_config_screen.dart:43,237,239` - –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å `_useOptimizedSystem`

#### **–ú–æ–¥–µ–ª–∏ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- `SupplierBusinessConfig:130` - –ø–æ–ª–µ `useOptimizedSystem`
- `GlobalApiSettingsService:19,77,89,210` - –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å legacy —Ñ–ª–∞–≥–∞–º–∏

#### **–ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã:**
- `parts_search_providers.dart` - –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π `partsSearchProvider`
- –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

#### **–°–µ—Ä–≤–∏—Å—ã –∏ API –∫–ª–∏–µ–Ω—Ç—ã:**
- `parts_price_service.dart` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É—Å—Ç–∞—Ä–µ–≤—à–∏–π ApiClientManager
- `armtek_api_client.dart` - –±–∞–∑–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç –±–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π

---

## üéØ –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

### **–≠—Ç–∞–ø 1: –û—á–∏—Å—Ç–∫–∞ UI (15 –º–∏–Ω)**
#### 1.1 –£–¥–∞–ª–∏—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
- [ ] **–§–∞–π–ª:** `enhanced_supplier_config_screen.dart`
- [ ] –£–¥–∞–ª–∏—Ç—å `bool _useOptimizedSystem = true;` (—Å—Ç—Ä–æ–∫–∞ 43)
- [ ] –£–¥–∞–ª–∏—Ç—å Switch —Å `_useOptimizedSystem` (—Å—Ç—Ä–æ–∫–∏ 237-239)
- [ ] –£–¥–∞–ª–∏—Ç—å —É—Å–ª–æ–≤–Ω—É—é –ª–æ–≥–∏–∫—É —Å `_useOptimizedSystem` (—Å—Ç—Ä–æ–∫–∏ 158, 445, 561, 687, 1002, 1015, 1064)
- [ ] –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É

### **–≠—Ç–∞–ø 2: –û—á–∏—Å—Ç–∫–∞ –º–æ–¥–µ–ª–µ–π (10 –º–∏–Ω)**
#### 2.1 –£–¥–∞–ª–∏—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –ø–æ–ª—è
- [ ] **–§–∞–π–ª:** `lib/features/suppliers/models/supplier_config.dart`
- [ ] –£–¥–∞–ª–∏—Ç—å –ø–æ–ª–µ `useOptimizedSystem` –∏–∑ `SupplierBusinessConfig` (—Å—Ç—Ä–æ–∫–∞ 130)
- [ ] –†–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥: `dart run build_runner build --delete-conflicting-outputs`

#### 2.2 –û—á–∏—Å—Ç–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- [ ] **–§–∞–π–ª:** `lib/core/config/global_api_settings_service.dart`
- [ ] –£–¥–∞–ª–∏—Ç—å `_useOptimizedSystemKey` (—Å—Ç—Ä–æ–∫–∞ 19)
- [ ] –£–¥–∞–ª–∏—Ç—å –º–µ—Ç–æ–¥—ã `getUseOptimizedSystem()` –∏ `setUseOptimizedSystem()` (—Å—Ç—Ä–æ–∫–∏ 77-89)
- [ ] –£–¥–∞–ª–∏—Ç—å –∏–∑ `getAllSettings()` (—Å—Ç—Ä–æ–∫–∞ 210)

### **–≠—Ç–∞–ø 3: –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ (20 –º–∏–Ω)**
#### 3.1 –£–¥–∞–ª–∏—Ç—å legacy –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
- [ ] **–§–∞–π–ª:** `lib/features/suppliers/providers/parts_search_providers.dart`
- [ ] –£–¥–∞–ª–∏—Ç—å `partsSearchProvider` (—Å—Ç—Ä–æ–∫–∏ 19-44)
- [ ] –£–¥–∞–ª–∏—Ç—å `PartsSearchParams` –∫–ª–∞—Å—Å (—Å—Ç—Ä–æ–∫–∏ 47-68)
- [ ] –û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ —Å–ª—É–∂–µ–±–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –¥–ª—è ApiClientManager –∏ PartsPriceService

#### 3.2 –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
- [ ] **–§–∞–π–ª:** `lib/features/suppliers/providers/optimized_api_providers.dart`
- [ ] `OptimizedPartsSearchParams` ‚Üí `PartsSearchParams`
- [ ] `optimizedPartsSearchProvider` ‚Üí `partsSearchProvider`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∏–º–ø–æ—Ä—Ç—ã –≤ –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö —Ñ–∞–π–ª–∞—Ö

### **–≠—Ç–∞–ø 4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤ (25 –º–∏–Ω)**
#### 4.1 –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ PartsPriceService
- [ ] **–§–∞–π–ª:** `lib/features/suppliers/services/parts_price_service.dart`
- [ ] –ó–∞–º–µ–Ω–∏—Ç—å `ApiClientManager` –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –∏–∑ `optimized_api_providers.dart`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –ø–æ–ª—É—á–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤

#### 4.2 –£–¥–∞–ª–µ–Ω–∏–µ –±–∞–∑–æ–≤–æ–≥–æ Armtek –∫–ª–∏–µ–Ω—Ç–∞
- [ ] **–§–∞–π–ª—ã –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ:**
  - `lib/features/suppliers/api/implementations/armtek_api_client.dart`
  - `lib/features/suppliers/api/implementations/armtek_api_client.g.dart`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã –≤–æ –≤—Å–µ—Ö —Ñ–∞–π–ª–∞—Ö
- [ ] –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å `OptimizedArmtekApiClient` ‚Üí `ArmtekApiClient`

### **–≠—Ç–∞–ø 5: –§–∏–Ω–∞–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ (15 –º–∏–Ω)**
#### 5.1 –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏:**
  - `lib/features/suppliers/screens/parts_search_screen.dart` (—Å—Ç–∞—Ä—ã–π —ç–∫—Ä–∞–Ω)
  - –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —É—Ç–∏–ª–∏—Ç—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

#### 5.2 –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –¥–ª—è —è—Å–Ω–æ—Å—Ç–∏
- [ ] `enhanced_supplier_config_screen.dart` ‚Üí `supplier_config_screen.dart`
- [ ] `enhanced_parts_search_screen.dart` ‚Üí `parts_search_screen.dart`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç—ã –∏ –∏–º–ø–æ—Ä—Ç—ã

#### 5.3 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `CLAUDE.md` - —É–±—Ä–∞—Ç—å —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –¥–≤—É—Ö —Å–∏—Å—Ç–µ–º–∞—Ö
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –µ–¥–∏–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ

---

## ‚ö†Ô∏è –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–æ–º–µ–Ω—Ç—ã

### **–ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –û–ë–Ø–ó–ê–¢–ï–õ–ï–ù:**
1. **–≠—Ç–∞–ø 1** (UI) ‚Üí **–≠—Ç–∞–ø 2** (–º–æ–¥–µ–ª–∏) ‚Üí **–≠—Ç–∞–ø 3** (–ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã) ‚Üí **–≠—Ç–∞–ø 4** (—Å–µ—Ä–≤–∏—Å—ã) ‚Üí **–≠—Ç–∞–ø 5** (–æ—á–∏—Å—Ç–∫–∞)
2. **–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞:** –∑–∞–ø—É—Å–∫–∞—Ç—å `flutter analyze` –∏ –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å –æ—à–∏–±–∫–∏
3. **–ü–æ—Å–ª–µ –≠—Ç–∞–ø–∞ 2:** –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥

### **–¢–æ—á–∫–∏ —Ä–∏—Å–∫–∞:**
- **–≠—Ç–∞–ø 4:** –ú–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –≤ –∑–∞–≤–∏—Å–∏–º—ã—Ö —Ñ–∞–π–ª–∞—Ö
- **–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è:** –ú–æ–≥—É—Ç —Å–ª–æ–º–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∏–º–ø–æ—Ä—Ç—ã

### **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å:
- [ ] `flutter analyze` - –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏: –ø–æ–∏—Å–∫ –∑–∞–ø—á–∞—Å—Ç–µ–π, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
- [ ] Health check –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### **–ë—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–æ:**
- ~300 —Å—Ç—Ä–æ–∫ legacy –∫–æ–¥–∞
- 1 —É—Å—Ç–∞—Ä–µ–≤—à–∏–π API –∫–ª–∏–µ–Ω—Ç
- 2 –Ω–∞–±–æ—Ä–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
- –£—Å–ª–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤ 8+ –º–µ—Å—Ç–∞—Ö
- 3 —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –ø–æ–ª—è –º–æ–¥–µ–ª–∏

### **–û—Å—Ç–∞–Ω–µ—Ç—Å—è:**
- **–ï–¥–∏–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**
- –ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–π
- –£–ª—É—á—à–µ–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–æ–¥–∞

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

- [ ] `flutter analyze` - 0 –æ—à–∏–±–æ–∫
- [ ] `flutter build apk` - —É—Å–ø–µ—à–Ω–∞—è —Å–±–æ—Ä–∫–∞
- [ ] –ü–æ–∏—Å–∫ –∑–∞–ø—á–∞—Å—Ç–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] Health check –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç
- [ ] –ù–µ—Ç —É–ø–æ–º–∏–Ω–∞–Ω–∏–π legacy —Å–∏—Å—Ç–µ–º—ã –≤ –∫–æ–¥–µ
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

**Estimated time**: 1.5 —á–∞—Å–∞
**Complexity**: Medium
**Risk**: Low (–ø—Ä–∏ —Å–æ–±–ª—é–¥–µ–Ω–∏–∏ –ø–æ—Ä—è–¥–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)

**Created**: 18.09.2025
**Status**: Ready to start